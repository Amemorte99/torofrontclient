<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">


    <div class="row">
        <div class="col-6"></div>
        <div class="col-6">
            <div  class="my-4 btn-lg" data-toggle="modal" data-target="#showListCharger">
                <div class="btn-up2 d-flex justify-content-end align-content-center">
                  <h6 class="m-4">Voir la liste des offres chargés</h6>
                </div>
              </div>
        </div>
    </div>

    <div class="container-fluid mt-5 mb-3">
        <div class="row">
            <div class="col-md-4 offre" *ngFor="let item of listOffre" (click)="voirDetailOffre(item)">
                <div class="card p-3 mb-2 shadow">
                    <div class="d-flex justify-content-between">
                        <div class="d-flex flex-row align-items-center">
                            <div class="icon"> <i class="fa fa-magic"></i> </div>
                            <div class="ms-2 c-details">
                                <h6 class="mb-0">{{item?.typeOffre}}</h6> <span>{{item?.dateCreation | date:'medium'}}</span>
                            </div>
                        </div>
                        <div class="badge"> <span>{{item?.detailSA.libelle}}</span> </div>
                    </div>
                    <div class="mt-5">
                        <h3 class="heading mb-2"><br>{{item?.libelle}}</h3>
                        
                       <h4> Type d'emploi :</h4>
                        <div *ngFor="let jobType of item.jobTypes" class="d-flex ">
                          
                        </div>
                            <div *ngIf="item.jobTypes.length > 1; else oneItem">
                                <div *ngFor="let jobTyp of item.jobTypes.slice(0,1)">
                                    <h4 class="jobTitle m-0 text-center"><br> <i class="fa-solid fa-briefcase"></i> {{jobTyp.libelle}} + {{item.jobTypes.length - 1}}</h4>  
                                </div>
                              </div>
                        <ng-template #oneItem>
                            <div *ngFor="let jobType of item.jobTypes">
                                <h4 class="jobTitle m-0 text-center"><br><i class="fa-solid fa-briefcase"></i>  {{jobType.libelle}}</h4>
                             
                            </div>
                          </ng-template>
                          
                        <div class="mt-4">
                            <div class="text-justify resume ">
                              <p>
                                {{item?.resume}}.
                                
                                 
                              </p>
                            </div>
                            <div class="mt-3"> <span class="text1"><i class="fa fa-location-dot"></i>{{ " " +item?.adresse}} <span class="text2">,Togo</span></span> </div>
                        </div>
                    </div>
                </div>
            </div>
           
            
        </div>
    </div>







    <div class="modal fade " id="showListCharger" tabindex="-1" role="dialog"
    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
      <div class="modal-content">
    
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Liste des offre chargés</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
    
        <!-- Modal body -->
        <div class="modal-body" *ngIf="type==1">
          <section class="h-100 h-custom" style="background-color: #8fc4b7;">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-lg-12 col-xl-12 col-sm-12">
                  <div class="card rounded-3">
                    <!--image-->
                    <div class="card-body p-4 p-md-5">
    
                      <table class="table table-hover " style="background-color: #fff;">
                        <thead>
                          <tr class="text-center">
          
                            <th>N° d'ordre</th>
                            <th>Titre</th>
                            <th>Etat</th>
                            <th>Date de chargement</th>
                            <th>Adresse de l'offre</th>
                            <th colspan="2">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr class="text-center" *ngFor="let item of listeOffreCharger; let i = index">
                            <td>{{i+1}}</td>
                            <td>{{item?.libellePoste}}</td>
                            <td>{{item?.etat}}</td>
                            <td>{{item?.dateCreation | date:'medium'}}</td>
                            <td>{{item?.candidature.adresse}}</td>
                            <td colspan="2" class="p-2 ">
                              <button class="btn btn-up2 btn-sm m-1" (click)="voirOffreChargerByUea(item)"><i class="fa-solid fa-file-import"></i> postuler</button>
                            </td>
          
          
                          </tr>
          
                        </tbody>
                      </table>
    
                     
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
    
        <div class="modal-body" *ngIf="type==2">
          <div class="m-2">
            <a class="btn btn-up2" (click)="retourModal()" style="border:1px solid #8fc4b7 "><i
                class="fa fa-arrow-left"></i> retour</a>
          </div>
    
          <section class="h-100 h-custom" style="background-color: #8fc4b7; 
        font-size: 17px;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      font-weight: 600;">
            <div class="container py-5 h-100">
              <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-lg-12 col-xl-12 col-sm-12">
                  <div class="card rounded-3">
                    <!--image-->
                    <div class="card-body p-4 p-md-5 text-black">
    
    
                      <form class="row justify-content-center" method="post" enctype="multipart/form-data">
                        <div class="col-md-6" >
                            <button type="button" id="pdfbtn" class="btn btn-up4 btn-block w-100" (click)="sendimage()">
                                <i class="fa fa-file-pdf"></i> Lettre de motivation
                            </button>
                            <input type="file" name="profile" class="form-control" id="addprofile" accept=".pdf" (change)="mettreImage()" hidden/>
                            <div class="my-4">
                                <embed src="" type="application/pdf" id="pdfprofile" class="embeded">
                            </div>
                        </div>
                        <div class="col-md-6"  >
                            <button type="button"  id="pdfbtnTwo" class="btn btn-up4 btn-block w-100" (click)="sendimageTwo()">
                                <i class="fa fa-file-pdf"></i> Un curriculum vitae
                            </button>
                            <input type="file" name="profile" id="addprofileTwo" accept=".pdf" (change)="mettreImageTwo()"  hidden/>
                            <div class="my-4">
                                <embed src="" type="" class="embeded" id="pdfprofileTwo" class="embeded">
                            </div>
                        </div>
                        <!-- <div class="col-md-3">                                                            
                            <button type="button"  id="pdfbtnThree" class="btn btn-up btn-block w-100" (click)="sendimageThree()">
                                <i class="fa fa-file-pdf"></i> Diplôme & attestation invoqué
                            </button>
                            <input type="file" name="profile" id="addprofileThree" accept="pdf" (change)="mettreImageThree()"  hidden/>
                            <div class="my-4">
                                <embed src="" type="" class="embeded" id="pdfprofileThree" class="embeded">
                            </div>
                        </div> -->
                        <div class="mt-4">
                          <button class="btn btn-up" id="enregistrer_fichier_cv" (click)="postulerSaveFile()">Postuler</button>
                        </div>
                        
                       
                    </form>
    
    
    
    
    
    
    
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
    
    
        </div>
    
        <!-- Modal footer -->
        <div class="modal-footer">
    
          <button type="button" class="btn btn-danger" data-dismiss="modal">Fermer</button>
        </div>
    
      </div>
    </div>
    </div>